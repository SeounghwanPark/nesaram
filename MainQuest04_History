히스토리(성환님)
**1일차(2/24) :** 팀 빌딩과 데이터 분석

- OT ( 10:10 ~ 10:30 )
- 팀별 아이스브레이킹
- 데이터 분석
    - 파일별 데이터 확인
    - 데이터 상세 내용 확인
    - 데이터셋 간 연계방안 고민
    - 분석 방향 논의(주제 선정)

**역할분배 중요**

코드, 전처리, 분석,머신러닝, 발표준비,

데이터분석 평가 방향

분석하기 전에 가설세우고 - 분석하기

- 가설검증부분에 집중하자(새로운 시도 등)
- 가설이 틀릴때 외 틀린지 분석하고 분석하고
- 발표시 잘한것만 발표 추가 해서 실패한것도 발표 왜 그런지? 에 대한 깊게 들어가는
- 비즈니스 인사이트 도출

**팀 회의 기록로그**

주제 : 본인이 잘하는거 이야기하기(**아이스 브레이킹**) > 역할 분담을 위한 사전 정보공유

프로젝트 진행시 필요한 역할구분

1. 팀장(프로젝트 리더) : 헌수님

  2.  데이터 엔지니어 : 
       데이터전처리, 품질검증,분석환경

  3. 데이터 분석가 : 
      EDA수행, 통계적분석 및 인사이트 도출

  4. 비즈니스 분석가 : 
      데이터관련 트렌드 분석, 비즈니스관점의 인사이트도출, 

역할구분= 주요담당자로 선정하여 다른역할도 같이 할수 있도록 하는것이 주요목적임. 

유빈 - 코딩, 발표자료 작성

상혁 - 대학원 졸업했으며, 발표를 많이 해봤다

헌수 - 하라는건 할수 있다 분위기조성 및 항상 질문자세 되있다

성환 - 전체적 인 서포트 진행, 어느한사람에게만 맡기지 말고  그분이 다른조원에게 시키는식으로 역할을주자

공통적인 공유와 히스토리정리 로 어떤 방식으로 할지

주제 : 코렙, 깃허브 인데 어떤지 이중어떤것으로 할지?

유빈 : 코렙을 사용해 봤는데 깃허브는 사용해보지 못해서

상혁 - 공유는 동의 한다 깃허브, 코렙 상관없다

유빈 - 깃허브 설정보다는 코렙으로 하는게 유용할거 같다.

유빈- 새로운 설정이 필요한 깃허브보다는 코렙선호

성환 - 사용해본 경험이 있는 것으로 팀에 진행상황은 코렙에 작성하고 (각자 피드백하기로)

팀장 선출 (의사소통을 원할히 할수 있는 사람으로)

성환 - 팀장을 하루씩 바꿔가면서 해보자 장점(본인이 팀장을 해본 간접경험습득)보다는 단점이 적어서 괜찮을거 같다

상혁 - 팀장이 혼자서 이끌어 간다고 해도 방향성은 모두가 알고 있어서 팀장을 나눠서 하는것도 대세에는 지상이 없을거 같다.

헌수 - 팀장이 팀원들의견을 듣고 하는거기 때문에 하루씩 해보는것도 좋겠다.

성환 - 진행에 대해 질문후 수정사항 : (팀장은 한명으로 해야 되고, 리더쉽에 대한 가산점은 추가될 수 있다. 팀장선출로 바로 진행하자)

상혁 - 성환, 헌수님 중에 팀장으로 하는것으로 하는게

유빈 - 동일한 의견으로 성환과 헌수님중에 하는걸로 합시다.

헌수 - 해본적은 없는데 잘할지 모르고 질문이 많을수는 있다.

성환 - 헌수님이 해보시는게 다수결로 의견 나왔고 어떠신지?

팀장 : 김헌수님 으로 결정 : 질문이 많고 항상 Why라는 의구심이 필요하다고 생각하며, 의사소통에 대한 중요성을 감안하여 다수결로 정함.

성환 - 팀명은 테이터 셋을 먼저 정하고 유추되는 것으로 팀명을 정하는것이 어떤가?

예를 들어 일본데이터로 선택했으면 "이번기회에 일본한번가보자" 이런식으로 할수 있으니...

성환- 데이터셋 정하는 과정( 각자 의견 나누고, 다수결로 정하자)

헌수 - 별5개는 어렵고 중간거 1. 일본 2.구글 플레이 거로

상혁 - 1. 구글 플레이 2. 일본 브라질은 데이터셋이 뭔지 파악부터 해야된다는 느낌이다.

유빈 - 1. 구글, 2. 일본

성환 - 1. 브라질, 2일본  지금까지의 의견으로는 구글, 일본으로 좁혀지는데

성환 - 브라질, 일본 중에서만 하나만 골라서 다시 투표후 다수결로 합시다.

유빈 - 택스트데이터가 잼있을거 같다. 그래서 가설이 제한적인 구글보다는 그래서 일본데이터 선호

상혁 - 전에 텍스트 관련(딜레이관련해본적이 있어서) 데이터를 해본적이 있어서 괜찮을거 같다.

성환 - 별점 중간이 일본이기도 하고 별점이 가장낮은것은 피하고 싶다.

헌수 - 처음부터 일본으로 말했듯이 일본선호.

성환 - 그럼 일본데이터셋을 결정하고 이제 관련 팀 명을 정합시다.

유빈 - 오마카세(다양한 재로로 만든 음식이고 조원이 다양한사람들이 모였으므로)

상혁 - ”헌수님의 오마카세” 팀장의 진행으로 가는 오마카세이므로  했지만 ”오마카세” 추천

성환 - 헌수님의 오마카세도 괜찮을거 같다.

헌수 - 오마카세가 강렬해서 다른의견은 

유빈 - 우유빛깔 헌수님의 오마카세 보다는  대명사 같이 ”오마카세”

결론 - 일본과 관련된 것이기도 하고 최근 흑백요리사의 인기로 최근 트랜드와 더불어 인상이 깊을것 같아  
“**오마카세”(팀명 의미 : 다양한 식재료들이 서로 상호 융합 보완 상승 효과를 하며 멋진 조화를 이룰때 맛있는 음식이 탄생하듯이 
다양한 조원들의 생각과 경험들이 서로 의논하고 토의하는 과정을 거치며 결과적으로 멋있는 프로젝트를 만들자는 의미.
** 마치 다양한 식재료들이 서로 조화를 이루며 맛있는 요리가 탄생하듯, **각 조원의 생각과 경험이 융합되고 보완되며** 
멋진 프로젝트로 완성되기를 바랍니다. **의논하고 토의하는 과정 속에서 아이디어가 발전하고 시너지를 발휘**하며, 
최상의 결과를 만들어낼 수 있을 것입니다.)  -헌수-

1. 일본 데이터셋 받아서 살펴보기

1-0 데이터셋 받는데 문제있음(인증이 필요하고 개인정보 차원에서 다른시도로 해보느라  시간지체됨)

1-1 진행 중 시간지체

공통 : 유빈님이 받은 데이터를 구글 드라이브 공유한 코렙코드로 다른 조원도 같은 경로로 진행을 해볼려고 했으나,

구글 드라이브에서 경로설정 관련하여 자른 조원에서는 코드실행시 파일경로나 파일이 없다는 애러가 나와서 해결해 볼려고 시도하던중.

성환 : 일단 데이터 파일로 각자 노트북 환경에 경로로해서 실행하는걸로 진행하자고 의견을 냈습니다.

서로 파일의 경로는 다르다는것을 인지하고 있으면 나중에 최종 정리할때 참고할수 있으니 일단 그렇게 시간을 save해서 계속 진행하는걸로 결정합시다.

팀의 정보 공유 : 파일의 경로는 조원들의 개인경로로 설정하여 진행하기로 함.

2/24 12:50까지의 Main Quest 04 Project 진행 사항
시간지체가 많이 되었다는 느낌으로 조바심이 들고
조원들끼리 많이 소통하여 문제없이 진행되기를 바람( 다행히 모두 최선을 다하여 문제해결을 찾고 같이 고민하는 분위기여서 긍정적임)

---

→ feedback : 코렙으로 공유해서하는 방법은 해결됨. 유빈님이 구글드라이브에서 개인별로 설정하는 단계를 찾아서 이문제는 해결되었음.

# 데이터 크기 확인

train.tsv : 1482535 rows × 8 columns

test.tsv : 693359 rows × 7 columns

sample_submission.csv : 693359 rows × 1 columns

sample_submission_stg2.csv :3460725 rows × 1 columns

test_stg2.tsv : 3460725 rows × 7 columns

sample_submission_df, sample_submission_stg2_df 비교해보니
동일한 통계량과 결측치로  stg2의 데이터를 사용
**조원들 회의결과 :**
유빈님 : test 데이터에는 가격이 없어서 train데이터만 기준으로 잡고 분석을 해도 되겠다.
성환 : test데이터는 동일한 통계량과 결측치로  stg2의 데이터를 사용.
유빈님 진행질문후 : 예측으로 할건지 비즈니스쪽 관점으로 할건지 우선 정하는것이 좋을거 같다는 피드백으로
유빈 : 결정 케이스 2개

1. 대량의 데이터로 분석할건가? price데이터가 유용하다면 train만 사용
2. price데이터를 버리고 분석할건지?
3. 상혁 : train데이터 사용하는건 찬성 test데이터는 price는 없지만 train데이터를 보고 먼저 분석방향을 생각하고 Train데이터를 분석

가설 검증 : 별도로 기록

**가설 검증 선택시 회원들간 고민**
가설 검증에 대한 Why를 생각해 봤습니다. 이런 가설이 왜 필요하고 누구에게 도움이 될까? 조원들끼리 생각했을때는 판매자에게도 본인이 높은가격을
원하거나 낮은가격이지만 급하게 팔려고 할때는 이런 필요한 서비스가 도움이 될것이고 구매하는 입장에서도  본인이 시간적인 여유가 있다면 가격이 
낮더라도 기다릴것이고 급하면 가격이 높더라고 선택을 한다는 입장이며, 이런 서비스가 활성화 되어 있다면 이런 플렛폼을 운영하는 비즈니스적인 
회사입장에서도 필요한 서비스를 구축하기 위해서 필요한 가설이라고 판단됩니다.

성환 - 데이터 중에 판매된가격이 없어서 아쉬운데 판매가격을 임의로 만들면 어떨까? 예를 들어 랜덤으로 기존가격에서 +-20% 안에서 특정가격을 
판매가격으로 한다던가.

상혁 - 기존 가격들의 평균을 계산하여 해당 평균아래의 가격들의 금액은 판매금액으로 새로운 컬럼으로 만들자

공통 : 새로운 컬럼으로 판매금액을 만들어 활용해보자. 

2/24 17:50까지의 Main Quest 04 Project 진행 사항
전체 4일중 2일째 가설설정하기 까지 진행되어 계획
대비 Ahead 상태로 이후 진행에서 만약에 지체될
경우를 위해서는 양호한 진행속도임. (지금까지의 
진행속도로 on going) 

---

**2일차(2/25) :** EDA와 feature engineering / 분석 전략 수립

- 조별로 가설설정 해보기
- 프로젝트 계획세우기(일별/시간별)
- 데이터 전처리
    - 결측치 처리 방법 논의 / 결측치 채우기
    - 이상치 탐지

오늘은 유빈님 개인사정으로 부재중이나 프로젝트진행에 차질이 없도록 진행과정을 세부적으로 기록하여 금일 부재중으로 인한 영향이 없도록 하겠습니다.
금일 분석목표 작성필요
헌수 - 팀장 : 오늘 진행사항에 대해 오전에 전처리, 이상치 정리, 텍스트 소문자로 변경. 오후에 유빈님 투입되시면 같이 레츠 기릿 
상혁 - 한사람이 코드 작성하고 나머지는 코드작성한거 보고 피드백을 줄수 있을거 같긴한데 코딩을 두사람이 한다고 하면 한사람은 발표자고 한사람은 
팀장이라고 하면 맞는거 같긴한데 회의적이다. 헌수님처럼 각자 역할에 맞는 코드를 작성해서 하나로 취합, 승욱님 피드백으로 하면 한사람이 코드를 치고
공유해서 보면서 나머지는 코드를 보면서 피드백을 주는걸로 하는것으로 수정보완하는 방법으로 하는방법으로 하는게 좋을거 같다. 
성환 - 상혁님이 전에 진행했을때는 어떻게 했는지 
상혁 - 같은 상황은 아니지만 각자분담을 하고 한번씩 모여서 발표하고 내가 시도 했으나 문제점이 있고 대응해서 결과에 대해 서로 피드백하면서 
진행하는것으로 했는 연구실에 진행하는 연구가 많아서 그렇게 했었다.  다른 프로젝트는 분담을 해서 하는 식이다. 특정분야에서의 전문가가 있어서 
전문에 맞춰서 진행하고 피드백을 하는것으로 진행하는것으로 했었다.
상혁 - 같은 프로젝트도 그렇게 했었다.
팀장 - 상혁님은 어떤방식이 좋을까요?
상혁 - 각자 어느정도 분담해서 각자 진행해서 취합해서 피드백하고 하는식으로
발전할수 있다.  두번째는 한사람이 코딩을 하고 다른사람이 코드를 보고 피드백하면서 진행하는식으로 
성환 - 같은 분야에대한 분담인지? 전처리, 결측치, 이상치 등을 전부 나눈다든지?
상혁 - 이상치는 특정 칼럼에 대해서 이상치가 있을수 있고 특정칼럼으로 정리하는것도 좋을듯, 서로 역할 분담을 하되 독립적인게 최선일거 같고
성환 - 그럼 현재 오늘 진행하는 것이 순서대로 진행해야 하는지 아니면 순서와 상관없이 가능한지?
상혁 - 이상치라고 해서 다순히 제거가 아니라 살릴수도 있어서 A라는 분석의 이상치를 정리한 데이터플레임으로 분석하고 B라는 분석의 이상치처리한 
데이터플레임으로 하는 방법이 있어서 특정방향성에 대해서는 역할 분담을 하고 진행을 한뒤에 나중에 의견취합하는 방법이 세분화적으로 진행되지 않을까
하는 생각이 있다. 혼자서 코드 진행하고 다른사람이 피드백은 각자하는거 보다는 방향성은 있지만 세부적인 디테일에는 부족함이 있을거 같다.
성환 - 시간과 일정을 생각했을때 방향성을 다양화 하기 위해서는 각자 하는것이 더 다양성의 면에서 더 유리하지 않을까 생각합니다.
상혁 - 세부적으로 나눠서 하는 방식이 진도가 느리더라고 일정에는 무리가 없고 세부적으로 넓게 해 보는 방법도 좋도 앞으로 진행일정에 문제는 없을거같다.
헌수 - 어제 승욱님에 이야기를 듣고 한사람이 코드를 할 경우 다른사람은 무엇을 하나라는 의문이 있어서 두분이 그런 생각이면 다 나눠서 해도 괜찮을거
같은데 제생각은 코드 취합합시다 했는데 제가 잘못했을때는 또 다시 해야 되니까 걱정이다
상혁 -  나중에 피드백을 하면서 그때 수정하면 되니까 그건 문제가 안될거 같다. 그때 그때 진행해서 수정하면 되니까 본인이 할수 있는 만큼 해서 
진행하면 되지 않을까 생각합니다.
성환 - 다양성의 기준에서 세부적으로 나눠서 하는것이 좋을거 같습니다.
성환 - 일거리를 나눠서 하는거에 대한 구체적인 방법?
상혁 - 이상치, 결측치, 전처리 등도 하다가 막히면 서로 의견을 나누는 것이 
헌수 - 오전에 성환님께서 말씀 하신대로 한 번 해보고 오후에 다시 의견을 나눠서 오전에 한게 있으니 어떻게 하는게 좋겠다고 유빈님 오시면 다시 얘기
나눠보는게 어떨까 싶습니다. 오후에 유빈님 오시면 의견 들어보고 최종 방향성 맞춰보자는 거죠?
헌수 - 다른조 정찰 다녀 오겠습니다. 어떻게 하라는 정답은 없는거니까.
상혁 - 계획세우기에서 3일치의 해야되는 부분을 봤을때 결측치, 등 오늘 진행을 중점적으로 해도 되지 않을까? 각자 해보면 3일치의 내용도 나올거 같다.
성환 - 오늘의 계획은 전처리, 결측치, 이상치 탐지 를 금일 2시까지 하는걸로
상혁 - 12시에 중간체크 한번 중간점검 
팀장 - 다른팀의 진행사항에 대해 의견나누고 소통함. 

중간체크(12:00) 유빈님 합류(전체 조원 다같이 중간체크)
성환 -결측치를 unknown으로 했는데
상혁 - 카테고리에 별 내용이 없어서 결측치를 지워야되나 생각해서 카테고리 , 브랜드네임은 성환님처럼 변경했다. 아이템 디스크립션은 내버려뒀는데 
결측치로 체워야 된다고 생각한다.
성환 - 중복된 값은 없었다
상혁 - describe 내용에 대해 설명, 브랜드 네임은 의 ...값은 이하생략이여서 브랜드 네임의 유무성으로 만으로 따져야 되겠다. unknown 이냐 아니냐로
하면 될거 같다. price의 경향이 500이하가 집중적으로 많았다. 값싼것이 주로 거래가 많은경향이고 컨디션은 1~5까지 중 에서 
성환 - 컨디션부분에서 4,5부분이 비율이 너무 적어서 없어되 되지 않을가?
상혁 - 컨디션부분에 대해서 전담하는 사람이 더 분석을 해보고 판단하는게 좋을거 같다.
유빈 - 컨디션의 순서가 1-3-2-으로 및 오늘 추가되는 컬럼을 만들기로 했다 카테고리별 평균금액, 긍정부정갯수, 판매완료금액 
상혁 - 해당 컬럼중에서 집중적으로 나눠서 특정컬럼에 대해서 나눠서 추가하고 나누고 진행하고 다시 모여서 방향성을 가지고 취합해서 방향을 해보는것을
이야기 했었는데 앞으로는 지금처럼 진행하는게 나을지? 아니면 특정컬럼별로 분류 분석해서 논의하고 공유해서 취합해서 하는게 나을지?
유빈 - 그부분 동의하며 지금까지 이상치 결측치 진행한것을 코렙에 업데이트하면 될거 같고 각자 맡은 파트를 정해보자
아이템 description에대해 해보겠다. 카테고리에 대한 정리가 필요하다. 
상혁 -  카테고리를 나눠서 코렙에 공유를 하고 브랜드는 있냐 없냐로 진행을 해야 할거 같은데 
공통 - item_condition_id , brand_name, price, shipping에 대해서 더 집중적으로 검토를 해보자 
상혁 - 카테고리 측에서 브랜드를 볼려면 브랜드를 담당하는사람과 서로 상의하는방식으로 하자 동의 
유빈 - 브랜드 하시는 분이 컨디션과 원앤 아이디로 묶는다던지 컬럼을 정리하면 
유빈- 컨디션같은 경우 1~5를 상중하로 분류해 보는것도 좋을거 같다.
price를 그때 검토해 보는게 좋을거 같다.
헌수 - 브랜드네임과 아이템컨디션 하겠다.
상혁 - 브랜드 네임
유빈 - 카테고리를 합치는과정이 시간이 많이 걸릴거 같다.
상혁 - 카테고리 전담은 상혁님이 전담하고 기타 정리는  성환과  같이 하는걸로
유빈 - 컨디션컬럼은 1,2는 최상, 3,4는 중, 5는 또는 12, 3, 4,5 같이 찾아줬으면  
공통 - 1을 상으로 2,3 중 같이 4,5를 하로 상, 중, 하 로 분류하자
상혁 - 브랜드 네임을 나눠서 분석시도 해봤는데 unique값이 ... 이 ? 이며, 4809개가 있어서 우선적으로 브랜드 네임이 있느냐 없느냐로 나눠서 
판단해보는게 좋을거 같다. 이미 결측치값을 성환님이 진행했기때문에 코랩으로 올려주면 헌수님이 진행하는거로
유빈 - 브랜드 네임을 통합할 수 있는 부분이 있는 지도 추가적으로 검토 필요
상혁님 : category_name 일때 어느 컬럼과 연관관계를 알아보는게 좋을까?
공통 - 카테고리 분류가 중요할거 같다.
상혁 - 카테고리분류작업 후 메인은 10가지 인거 같다
유빈 - 카테고리에 메인 카테고리기준으로 보되 other에 대한 값을 조금더 세분화 하자.
가격중에 0으로 되어있는것이 있는데 이것은 중고거래 사이트에서 특이한 케이스로 0금액은 제거하는쪽으로 
유빈 - 메인 카테고리에 키워드를 트랜드를 넣는거다 3년전 검색량대비 인기도에 대해서 unknown에 대한건 그냥 살리는걸로 
other, beauty, kids, home, women, 
유빈 - 텍스트 데이터 사전불러와서 컬럼작성 예정 apply부분에서 
브랜드 네임의 비슷한것을 단순화 하는 방법으로 
상혁 -  판매여부에 대한 기준 특정값보다 작을때 판매완료로 컬럼추가 
가격의 평균치(대신에 상관관계를 보고도 판매여부확정)에서 작으면 판매했을거다라면 각각 카테별로 
팀장 - 제품 컨디션에 상, 중, 하 분류작업 하는 너무 적게 나왔다. 

금일체크(17:50) 오늘은 늦게까지 최대한 작업을 해보자는 의견으로 야근? 예정 
전체 4일중 2일째 진행되어 계획
대비 Behind 상태로 Catch-up위해 금일 늦게 까지 작업진행 예정
금일 데이터 전처리 과정과 컬럼 생성에서 진행속도 늦어짐. 
category = train_df['category_name'].str.split('/').apply(pd.Series)
category = category.rename(columns={0: 'main_category', 1: 'sub1_category', 2: 'sub2_category',  3: 'sub3_category', 4: 'sub4_category'})
merged_df = pd.merge(train_df, category, left_index=True, right_index=True, how='inner')
※ apply적용시 속도오래 걸리는 문제로 아래 코드로 대체시 속도가 빨라짐
문자열 분할 시 expand=True 옵션을 사용하여 DataFrame을 바로 반환한 후, DataFrame의 join() 메서드를 사용해 병합하는 방식으로 
코드를 최적화. apply(pd.Series)를 사용하는 것보다 훨씬 빠릅 아래 코드로 변경실행
# category_update: 최적화된 코드
category = train_df['category_name'].str.split('/', expand=True)
category = category.rename(columns={
    0: 'main_category', 
    1: 'sub1_category', 
    2: 'sub2_category',  
    3: 'sub3_category', 
    4: 'sub4_category'
})
# DataFrame.join()을 사용하여 병합 (인덱스를 기준으로 합침)
merged_df = train_df.join(category)
